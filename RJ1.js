const capitaoAmerica = {
    nome: 'Steve Rogers',
    codinome: 'Capitão América',
    armaPrincipal: 'Escudo de Vibranium',
    armaSecundaria: '',
    velocidade: 65,
    forca: 75,
    resistencia: 80,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const homemAranha = {
    nome: 'Peter Parker',
    codinome: 'Homem Aranha',
    armaPrincipal: 'Teias',
    armaSecundaria: '',
    velocidade: 80,
    forca: 60,
    resistencia: 50,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}


const doutorEstranho = {
    nome: 'Stephen Vincent Strange',
    codinome: 'Doutor Estranho',
    armaPrincipal: 'Magia',
    armaSecundaria: '',
    velocidade: 40,
    forca: 90,
    resistencia: 30,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const homemDeFerro = {
    nome: 'Tony Stark',
    codinome: 'Homem de Ferro',
    armaPrincipal: 'Armadura Tecnológica',
    armaSecundaria: '',
    velocidade: 85,
    forca: 75,
    resistencia: 75,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const hulk = {
    nome: 'Bruce Benner',
    codinome: 'Hulk',
    armaPrincipal: 'Transformar',
    armaSecundaria: 'Força e raiva',
    velocidade: 40,
    forca: 90,
    resistencia: 95,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const thor = {
    nome: 'Thor',
    codinome: 'Thor', 
    armaPrincipal: 'Mjonir',
    armaSecundaria: 'Raios e trovões',
    velocidade: 90,
    forca: 80,
    resistencia: 70,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const viuvaNegra = {
    nome: 'Natasha Romanoff',
    codinome: 'Viúva Negra',
    armaPrincipal: '',
    armaSecundaria: '',
    velocidade: 20,
    forca: 35,
    resistencia: 30,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const gaviaoArqueiro = {
    nome: 'Clint Barton',
    codinome: 'Gavião Arqueiro',
    armaPrincipal: 'Arco e Flecha',
    armaSecundaria: '',
    velocidade: 15,
    forca: 40,
    resistencia: 30,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}

const thanos = {
    nome: 'Thanos',
    codinome: 'Thanos', 
    armaPrincipal: 'Manopola com joía do poder',
    armaSecundaria: '',
    velocidade: 40,
    forca: 100,
    resistencia: 90,
    descricao: function () {
        return "Nome do personagem: " + this.nome + '\n' +
            "Codinome do personagem: " + this.codinome + '\n' +
            "Arma principal: " + this.armaPrincipal + '\n' +
            "Arma secundaria: " + this.armaSecundaria + '\n' +
            "Nivel de força:" + this.forca + '\n' +
            "Nível de velocidade: " + this.velocidade + '\n' +
            "Nível de resistencia: " + this.resistencia
    }
}
// uma lista constante com todos os personagens
// constante por ser imutavel
const personagens = [capitaoAmerica, homemAranha, doutorEstranho, viuvaNegra, gaviaoArqueiro, hulk, homemDeFerro, thor, thanos]

// uma funcao para comparar dois personagens
function compararPersonagens(p1, p2) {

    //lista constante de atributos para facilitar no for
    const atributos = ['forca', 'velocidade', 'resistencia']

    // variaveis temporarias para marcar quem venceu em cada atributo
    let p1Vitoria = 0
    let p2Vitoria = 0

    // variavel temporaria para saber em qual atributo houve a vitoria
    let vitoriaP1 = []
    let vitoriaP2 = []

    // forEach é um metodo propio do js que intera para cada elemento de uma lista{array} 
    // passando como parametro uma funcao ou uma variavel
    // aqui no caso, para cada elemento da lista constante "atributos", a variavel "atributo" 
    // sera atribuida ao valor correspondente da lista
    // ex: let lista = ['goiaba', 'pera', 'maca']
    // lista.forEach(fruta => {})
    // na primeira passagem do for, ele vai executar atribuindo a variavel "fruta" ao index 0 da lista

    atributos.forEach(atributo => {
      //abstracao: 
      // se personagem1(parametro passado no inicio da funcao)[atributo](*valor do index atual = forca*)
      // for maior que forca p2
      // adiciona 1 ponto de vitoria ao p1
      // adiciona na lista de vitorias qual atributo deu a vitoria
      // caso contrario, faz o contrario kkkk
        if (p1[atributo] > p2[atributo]) {
            p1Vitoria++
            vitoriaP1.push(atributo)
        } else if (p1[atributo] < p2[atributo]) {
            p2Vitoria++
            vitoriaP2.push(atributo)
        }
    });

    // criei uma variavel local para armazenar quem vence a luta
    let resultado = ''
    
    // abstracao:
    // se vitorias do personagem1 for maior
    // adiciona o nome de heroi mostrando que ele venceu
    // caso contrario, dar a vitoria ao outro
    // em caso de empate, resultado = 'empate'
    if (p1Vitoria > p2Vitoria) {
        resultado = `${p1.codinome} vence a luta!`
    } else if (p1Vitoria < p2Vitoria) {
        resultado = `${p2.codinome} vence a luta!`
    } else {
        resultado = 'Empate!'
    }


    // retornar o resultado de quem ganhou, e os atributos maiores
    return {
        resultado,
        vitoriaP1,
        vitoriaP2
    };
}


// funcao que vai comparar os personagens, de forma que não repita a luta
// odio profundo ao arakaki e suas aulas de contagem
// como tem uma lista com 10 itens, ou seja, de 0-9 index
// o index 0 lutará com todos os outros (de 1-9)
// o index 1 lutará com todos os consecutivos (de 2-9)
// até chegar no 9, onde terá lutado com todos
function exibirECompararPersonagens(personagens) {
    for (let i = 0; i < personagens.length; i++) {
        for (let j = i + 1; j < personagens.length; j++) {
          // acho que dois for seria o ideal por causa de precisar de duas variaveis, uma para o
          // p1 e outra para o p2

            console.log(`\nComparando ${personagens[i].codinome} e ${personagens[j].codinome}:`)
            console.log(personagens[i].descricao())
            console.log('---------------------------------')
            console.log(personagens[j].descricao())
            console.log('---------------------------------')

            // desestruturação:
            // tomei um susto quando vi esse conceito, mas é resumindo, adicionar a uma variavel
            // retornada por um metodo os seus valores
            // um exemplo meio bobo mas para fixação
            //function frutasGostosas(listaDeFrutasQueSaoObjetos){
            //  se na listaDeFrutasQueSaoObjetos tiver maça{
            //  return {
            //    nomeFruta,
            //    pesoFruta,
            //    nivelDeGostosura
            //    }
            //  }
            //}
            //a desestruturação seria pegar esse return "multiplo "e adicionar a variaveis para manipulaçã<object data=",," type=""></object>
            // const {nomeFruta, pesoFruta, nivelDeGostosura} = frutasGostosas(parametros)

            const { resultado, vitoriaP1, vitoriaP2 } = compararPersonagens(personagens[i], personagens[j])
            console.log('Resultado: ' + resultado)

            // esses dois ifs sao para imprimir quais atributos foram guardados como vitoria
            if (vitoriaP1.length > 0) {
                console.log(`${personagens[i].codinome} venceu nos atributos: ${vitoriaP1.join(', ')}`)
            }
            if (vitoriaP2.length > 0) {
                console.log(`${personagens[j].codinome} venceu nos atributos: ${vitoriaP2.join(', ')}`)
            }
            console.log('=================================')
            console.log('')
            console.log('')
        }
    }
}

exibirECompararPersonagens(personagens)

           
